"use strict";

var mainPageProducts = new Swiper(".main-products__items", {
  direction: "horizontal",
  speed: 400,
  slidesPerView: 1.5,
  spaceBetween: 15,
  loop: !0,
  navigation: {
    nextEl: ".main-products__next",
    prevEl: ".main-products__prev"
  },
  breakpoints: {
    600: {
      slidesPerView: 2,
      spaceBetween: 21
    },
    1e3: {
      slidesPerView: 3
    }
  }
});
function onlyNumber(e) {
  var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "int";
  return "int" === t ? parseInt(e.toString().replace(/\D/g, "")) : "float" === t ? parseFloat(e.toString().replace(/[^\d.]/g, "")) : void 0;
}
function numberSeparation(e) {
  return (Math.floor(100 * e.toString().replace(/[^\d.]/g, "")) / 100).toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
}
function initCustomRange() {
  var e = ".custom-range",
    t = ".custom-range__min",
    o = ".custom-range__max",
    i = ".custom-range__line";
  $(i).each(function () {
    var i = $(this),
      a = i.closest(e).find(t),
      n = i.attr("data-min"),
      l = i.closest(e).find(o),
      s = i.attr("data-max");
    $(this).ionRangeSlider({
      type: "double",
      min: onlyNumber(n),
      max: onlyNumber(s),
      from: 0,
      onChange: function onChange(e) {
        var t = e.from_pretty,
          o = e.to_pretty;
        a.val(t), l.val(o);
      }
    });
  }), $(e).on("change input", t, function () {
    var t = $(this),
      o = t.closest(e),
      a = onlyNumber(t.val()),
      n = onlyNumber(o.find(i).attr("data-max")),
      l = o.find(i).data("ionRangeSlider");
    a > n ? (t.val(numberSeparation(n)), l.update({
      from: n
    })) : (t.val(numberSeparation(a)), l.update({
      from: a
    }));
  }), $(e).on("blur", t, function () {
    var t = $(this),
      i = onlyNumber(t.val()),
      a = onlyNumber(t.closest(e).find(o).val());
    i > a && t.val(numberSeparation(a)), t.val() || t.val(0);
  }), $(e).on("change input", o, function () {
    var t = $(this),
      o = t.closest(e),
      a = onlyNumber(t.val()),
      n = onlyNumber(o.find(i).attr("data-max")),
      l = o.find(i).data("ionRangeSlider");
    a > n ? (t.val(numberSeparation(n)), l.update({
      to: n
    })) : (t.val(numberSeparation(a)), l.update({
      to: a
    }));
  }), $(e).on("blur", o, function () {
    var o = $(this),
      a = o.closest(e),
      n = a.find(i).attr("data-max"),
      l = a.find(t).val(),
      s = onlyNumber(o.val()),
      r = onlyNumber(l),
      d = onlyNumber(n);
    s < r && o.val(numberSeparation(r)), o.val() || o.val(numberSeparation(d));
  });
}
function updateRangeSliderMinMax() {
  $(".custom-range__line").each(function () {
    var e = $(this),
      t = e.attr("data-max"),
      o = e.attr("data-min");
    e.data("ionRangeSlider").update({
      max: onlyNumber(t),
      min: onlyNumber(o)
    });
  });
}
function productSliders() {
  if (document.querySelector(".product__slider-nav") && document.querySelector(".product__slider-main")) {
    var e = new Swiper(".product__slider-nav", {
      direction: "vertical",
      spaceBetween: 10,
      slidesPerView: 5,
      breakpoints: {
        320: {
          slidesPerView: 2.2
        },
        480: {
          slidesPerView: 3
        },
        640: {
          slidesPerView: 4
        },
        950: {
          spaceBetween: 10
        }
      }
    });
    document.querySelector(".product__slider-main") && new Swiper(".product__slider-main", {
      direction: "horizontal",
      spaceBetween: 30,
      thumbs: {
        swiper: e
      }
    });
  }
}
if (customSelect("select"), $(window).width() > 992 ? $(".category__show-bar-item").on("click", function () {
  var e = $(this).attr("data-table");
  $(".category__show-bar-item[data-table=".concat(e, "]")).addClass("active").siblings().removeClass("active"), $(this).hasClass("category__show-bar-item_grid") ? $(".category__table").addClass("category__table_grid").removeClass("category__table_list") : $(".category__table").removeClass("category__table_grid").addClass("category__table_list");
}) : $(".category__table").addClass("category__table_list").removeClass("category__table_grid"), $(".accordion-head").on("click", function (e) {
  e.stopPropagation(), $(this).toggleClass("active"), $(this).parent().find(".accordion-body").slideToggle(300);
}), initCustomRange(), productSliders(), $("body").on("click", '[href*="#"]', function (e) {
  $(this.hash).length && ($("html,body").stop().animate({
    scrollTop: $(this.hash).offset().top - 100
  }, 1e3), e.preventDefault());
}), $(".product__similar-slider").length) {
  new Swiper(".product__similar-slider", {
    slidesPerView: 2,
    spaceBetween: 21,
    breakpoints: {
      320: {
        slidesPerView: 1.5,
        spaceBetween: 10
      },
      740: {
        slidesPerView: 2,
        spaceBetween: 21
      }
    },
    navigation: {
      nextEl: ".swiper-button-next_similar",
      prevEl: ".swiper-button-prev_similar"
    }
  });
}
function scrollWidth() {
  var e = document.createElement("div");
  e.style.height = "50px", e.style.width = "50px", e.style.overflowY = "scroll", document.body.appendChild(e);
  var t = e.offsetWidth - e.clientWidth;
  return e.remove(), t;
}
function bodyFixed() {
  $("body").css({
    "padding-right": scrollWidth() + "px",
    overflow: "hidden"
  });
}
function clearStyle() {
  for (var _len = arguments.length, e = new Array(_len), _key = 0; _key < _len; _key++) {
    e[_key] = arguments[_key];
  }
  e.forEach(function (e) {
    e.each(function () {
      $(this).removeAttr("style");
    });
  });
}
if ($(".catalog__filter-show-btn").on("click", function () {
  $(this).toggleClass("active"), $(".catalog__filter").toggleClass("active"), $(".catalog__filter-accordion").slideToggle(300);
}), $(".catalog__filter-hide-btn").on("click", function () {
  $(".catalog__filter-show-btn").removeClass("active"), $(".catalog__filter").removeClass("active"), $(".catalog__filter-accordion").slideUp(300);
}), $(".catalog-point").on("click", function () {
  $(window).width() > 815 ? $(".menu").slideToggle(300) : ($(".catalog-mobile").addClass("show"), bodyFixed());
}), $(".menu-mobile__catalog-btn").on("click", function () {
  $(".catalog-mobile").addClass("show"), bodyFixed();
}), $(".catalog-mobile__close").on("click", function () {
  $(".catalog-mobile").removeClass("show"), clearStyle($("body")), $(".catalog-mobile__content-lvl2").is(":visible") && $(".catalog-mobile__content-lvl2").removeClass("show");
}), $(".catalog-mobile__link_has-lvl2").on("click", function () {
  var e = $(this).attr("data-link");
  $(".catalog-mobile__content-lvl2[data-link=\"".concat(e, "\"]")).addClass("show");
}), $(".catalog-mobile__content-lvl2-top").on("click", function () {
  $(this).closest(".catalog-mobile__content-lvl2").removeClass("show");
}), $(".mobile-burger").on("click", function () {
  $(".menu-mobile").addClass("show"), bodyFixed();
}), $(".menu-mobile__close").on("click", function () {
  $(".menu-mobile").removeClass("show"), clearStyle($("body")), $(".menu-mobile__content-lvl2").is(":visible") && $(".menu-mobile__content-lvl2").removeClass("show");
}), $(".menu-mobile__link_has-lvl2").on("click", function () {
  var e = $(this).attr("data-link");
  $(".menu-mobile__content-lvl2[data-link=\"".concat(e, "\"]")).addClass("show");
}), $(".mobile-search").on("click", function () {
  $(".write-mail__wrapper").slideUp(300), $(".mobile-search__wrapper").slideDown(300);
}), $(".mobile-search__close").on("click", function () {
  $(".write-mail__wrapper").slideDown(300), $(".mobile-search__wrapper").slideUp(300);
}), $(".dropdown-point").on("mouseover", function () {
  $(this).addClass("active").find(".dropdown-point__list").addClass("show"), $(this).siblings().removeClass("active").find(".dropdown-point__list").removeClass("show");
}), $(document).on("mouseout", function (e) {
  var t = $(".dropdown-point"),
    o = t.find(".dropdown-point__list");
  t.is(e.target) || 0 !== t.has(e.target).length ? o.is(e.target) && t.removeClass("active").find(".dropdown-point__list").removeClass("show") : t.removeClass("active").find(".dropdown-point__list").removeClass("show");
}), $(document).on("click", ".openmodal", function () {
  var e = $(this).attr("data-modal");
  $(".modal[data-modal=" + e + "]").length && ($(".bgmodal").fadeIn(300), $(".modal[data-modal=" + e + "]").fadeIn(300).addClass("active"), bodyFixed());
}), $(document).on("click", ".modal__close", function () {
  var e = $(this).closest(".modal.active");
  $(".bgmodal").fadeOut(300), e.removeClass("active").fadeOut(300), clearStyle($("body"));
}), $(document).mouseup(function (e) {
  if ($(".bgmodal").is(":visible")) {
    var t = $(".modal, .openmodal");
    t.is(e.target) || 0 !== t.has(e.target).length || ($(".bgmodal").fadeOut(300), $(".modal").fadeOut(300), clearStyle($("body")), setTimeout(function () {
      $(".modal, .bgmodal").removeAttr("style");
    }, 300));
  }
}), $(document).ready(function () {
  var e,
    t = $(".write-mail").height();
  if ($(window).width() < 992) {
    e = t + $(".product .anchors").height() + 20;
  } else e = t + 20;
  $(".footer").css({
    "padding-bottom": "".concat(e, "px")
  });
}), $(window).width() > 992) var sticky = new Sticky(".product__aside-wrapper");
if ($(window).width() > 1e3) var stickyConverter = new Sticky(".converter__aside-wrapper");
if ($(window).width() < 764 && $(".modal_order .modal__title").text("Быстрый заказ"), $(window).width() > 992 && ($(".breadcrumbs-item_drop").on("mouseover", function () {
  var e = $(this).attr("data-drop");
  console.log(e), $(this).find(".breadcrumbs-item_drop-dropdown-link[data-drop=".concat(e, "]")).hide(), $(this).addClass("active").find(".breadcrumbs-item_drop-dropdown").addClass("show"), $(this).siblings().removeClass("active").find(".breadcrumbs-item_drop-dropdown").removeClass("show");
}), $(document).on("mouseout", function (e) {
  var t = $(".breadcrumbs-item_drop"),
    o = t.find(".breadcrumbs-item_drop-dropdown");
  t.is(e.target) || 0 !== t.has(e.target).length ? o.is(e.target) && t.removeClass("active").find(".breadcrumbs-item_drop-dropdown").removeClass("show") : t.removeClass("active").find(".breadcrumbs-item_drop-dropdown").removeClass("show");
})), $(window).width() > 1100) sticky = new Sticky(".press-detailed__aside .others");